[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Set upload speed - using a lower speed for better reliability
upload_speed = 460800

; Set the upload protocol
upload_protocol = esptool

; Set the port (you might need to adjust this for your system)
; For MacOS, it's typically something like:
; upload_port = /dev/cu.usbserial-210
; monitor_port = /dev/cu.usbserial-210

; Monitor settings
monitor_speed = 115200

; Build flags for better optimization
build_flags = 
    -O2
    -DCORE_DEBUG_LEVEL=0

; Optional: Enable exception handling
build_type = release

; Add these lines to help with upload reliability
upload_flags = 
    --before=default_reset
    --after=hard_reset

; Add required libraries
lib_deps =
    waspinator/AccelStepper @ ^1.64
    thomasfredericks/Bounce2 @ ^2.71
    madhephaestus/ESP32Servo @ ^0.13.0
